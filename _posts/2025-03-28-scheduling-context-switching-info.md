---
title: 스케줄링과 컨텍스트 스위칭이란?
description:
author: Choi Seon Ha
date: 2025-03-27 09:30:00 +0800
categories: [Development, Backend]
tags: [OS, backend]
pin: true
math: false
mermaid: fasle
---

> 스케줄링(Scheduling)과 컨텍스트 스위칭(Context Switching)은 운영체제(OS)에서 **CPU를 효율적으로 사용하기 위한 핵심 개념**.

---

## 1. 스케줄링

> 여러 개의 프로세스(또는 쓰레드)가 CPU를 사용하려고 할 때,
> 누구에게 언제 CPU를 줄 것인지 결정하는 작업

### 왜 필요한가?

- 컴퓨터는 멀티테스킹을 지원한다.
- 하지만 CPU는 한 번에 하나의 일만 처리가 가능하다. 여러 프로세스가 돌아가려면 순서를 잘 정해야 한다.

### 종류

1. **선점형 스케줄링 (Preemptive)**
   - OS가 강제로 CPU를 회수해서 다른 프로세스에게 넘김
   - 예) Round Robin, SRTF(Shortest Remaining Time First)
2. **비선점형 스케줄링(Non-preemptive)**
   - 프로세스가 스스로 CPU 사용을 끝내거나 대기해야 다음 프로세스가 실행됨
   - 예) FCFS, SJ

| 알고리즘                       | 설명                                |
| ------------------------------ | ----------------------------------- |
| FCFS (First Come First Served) | 먼저 온 순서대로 처리               |
| SJF (Shortest Job First)       | 실행 시간이 짧은 것 먼저 처리       |
| Round Robin                    | 일정 시간(CPU 시간 할당량)마다 교체 |
| Priority                       | 우선순위가 높은 것부터 실행         |

---

## 컨텍스트 스위칭 (Context Switching)

> CPU가 한 프로세스에서 다른 프로세스로 전환할 때
> **기존 프로세스의 상태(Context)를 저장하고, 새 프로세스의 상태를 불러오는 작업**.

### 왜 필요한가?

- 여러 프로세스가 CPU를 번갈아 쓰려면 이전에 하던 작업을 기억하고 나중에 다시 이어서 해야 하는데, 이것을 가능하게 해주는 게 **컨텍스트 스위칭**이다.

### 어떤 정보가 저장되나?

- 레지스터 정보 (PC, SP 등)
- 프로세스 상태 (running, waiting 등)
- 메모리 정보

### 비용이 크다?

- 컨텍스트 스위칭은 시간이 좀 걸린다.
- 저장하고 불러오는 작업이 많기 때문에 너무 자주하면 오히려 성능 저하 가능성도 있다.

---

## 🔄 스케줄링과 컨텍스트 스위칭의 관계?

- **스케줄러가 “다음은 너다!” 하고 프로세스를 바꾸기로 결정하면, OS가 컨텍스트 스위칭을 실행한다.**

---

## 🦷 상황: 치과 대기실과 진료실

### 🔹 프로세스 = 환자

진료를 기다리는 환자 한 명 한 명이 **프로세스**야.

모두 진료받고 싶어 하지만 **진료실은 하나**라서 동시에 들어갈 수는 없어.

### 🔹 CPU = 진료실

한 번에 **한 명만 들어가서 치료 받을 수 있는 공간**, 즉 **CPU**야.

여러 명이 동시에 쓰면 혼란스러워지니까, 순서대로 들어가야지.

---

## 📅 스케줄링 = 접수 창구에서 순서 정하기

**스케줄링**은 접수 직원이 누구를 먼저 진료실에 보낼지 **결정하는 규칙**이야.

### 📝 다양한 스케줄링 방식:

| 비유                         | OS 용어     | 설명                      |
| ---------------------------- | ----------- | ------------------------- |
| “먼저 온 사람부터 진료”      | FCFS        | 선착순 접수               |
| “진료가 간단한 사람 먼저”    | SJF         | 빠르게 끝날 사람 먼저     |
| “진료시간 10분씩 돌아가면서” | Round Robin | 모두에게 공평한 시간 배분 |
| “응급 환자 우선”             | Priority    | 우선순위가 높은 사람 먼저 |

---

## 🔁 컨텍스트 스위칭 = 진료실 환자 교체

진료 중이던 환자가 **진료를 다 못 끝냈지만**,

접수 창구에서 “이제 다른 사람 순서예요~” 라고 하면 **진료실에서 나와야 해**.

### 이때 어떻게 해야 할까?

1. 나가는 환자:
   - “내가 어디까지 치료했는지 기억해 주세요!”
   - → **의사 선생님이 상태(문진표, 엑스레이 등)를 저장**함
2. 들어오는 환자:
   - “제가 지난번에 어디 아팠는지 기억하시죠?”
   - → **의사 선생님이 그 사람 기록을 꺼내 봄**

🧠 이게 바로 **컨텍스트 스위칭**이야.

- 나가는 사람의 정보를 **저장**하고,
- 들어오는 사람의 정보를 **복원**하는 거지.

---

## 💸 컨텍스트 스위칭의 비용?

환자가 왔다갔다할 때 **시간과 에너지(=CPU 자원)**가 들잖아.

그래서 너무 자주 환자를 바꾸면 진료가 비효율적이 돼.

→ 이것이 **컨텍스트 스위칭의 오버헤드** (비용)

---

## 🔚 요약

| 개념            | 비유                          | 의미                  |
| --------------- | ----------------------------- | --------------------- |
| 스케줄링        | 접수창구에서 환자 순서 정하기 | 누가 CPU 쓸지 결정    |
| 컨텍스트 스위칭 | 진료실에서 환자 교대하기      | 작업 상태 저장 & 복원 |
